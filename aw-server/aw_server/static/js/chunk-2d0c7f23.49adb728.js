(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7f23"],{"537f":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-input-group",{attrs:{size:"sm"}},[i("b-input-group-prepend",[i("span",{staticClass:"input-group-text"},[t._v("Bucket")])]),i("b-dropdown",{attrs:{text:t.editorBucketId||"Select editor watcher bucket",size:"sm",variant:"outline-secondary"}},[i("b-dropdown-header",[t._v("Editor bucket to use")]),t.editorBuckets.length<=0?i("b-dropdown-item",{attrs:{name:"b",disabled:""}},[t._v("No editor buckets available"),i("br"),i("small",[t._v("Make sure you have an editor watcher installed to use this feature")])]):t._e(),t._l(t.editorBuckets,(function(e){return i("b-dropdown-item-button",{key:e,on:{click:function(i){t.editorBucketId=e}}},[t._v(t._s(e))])}))],2)],1),i("br"),i("h6",[t._v("Active editor time: "+t._s(t._f("friendlyduration")(t.editor_duration)))]),t.editorBucketId?i("div",[i("div",{staticClass:"row",staticStyle:{"padding-top":"0.5em"}},[i("div",{staticClass:"col-md-4"},[i("h5",[t._v("Top file activity")]),i("aw-summary",{attrs:{fields:t.top_editor_files,namefunc:t.top_editor_files_namefunc,colorfunc:t.top_editor_files_colorfunc,with_limit:""}})],1),i("div",{staticClass:"col-md-4"},[i("h5",[t._v("Top language activity")]),i("aw-summary",{attrs:{fields:t.top_editor_languages,namefunc:t.top_editor_languages_namefunc,colorfunc:t.top_editor_languages_colorfunc,with_limit:""}})],1),i("div",{staticClass:"col-md-4"},[i("h5",[t._v("Top project activity")]),i("aw-summary",{attrs:{fields:t.top_editor_projects,namefunc:t.top_editor_projects_namefunc,colorfunc:t.top_editor_projects_colorfunc,with_limit:""}})],1)])]):t._e()],1)},r=[],a=i("c1df"),d=i.n(a),s=i("5acd"),c=i("0794"),n={name:"Activity",props:["host","date"],data:()=>{return{editorBuckets:[],editorBucketId:"",editor_duration:0,top_editor_files:[],top_editor_files_namefunc:t=>{let e=t.data.file||"";return e=e.split("/"),e=e[e.length-1],e},top_editor_files_colorfunc:t=>t.data.language,top_editor_languages:[],top_editor_languages_namefunc:t=>t.data.language,top_editor_languages_colorfunc:t=>t.data.language,top_editor_projects:[],top_editor_projects_namefunc:t=>{let e=t.data.project||"";return e=e.split("/"),e=e[e.length-1],e},top_editor_projects_colorfunc:t=>t.data.project}},computed:{dateEnd:function(){return d()(this.date).add(1,"days").format()},dateShort:function(){return d()(this.date).format("YYYY-MM-DD")}},watch:{$route:function(){console.log("Route changed"),this.refresh()},editorBucketId(){this.queryEditorActivity()}},mounted:function(){this.getEditorBucket(),this.refresh()},methods:{refresh:function(){this.queryEditorActivity()},getEditorBucket:async function(){const t=await this.$aw.getBuckets().catch(this.errorHandler);for(const e in t)"app.editor.activity"===t[e]["type"]&&this.editorBuckets.push(e);this.editorBuckets.length>0&&(this.editorBucketId=this.editorBuckets[0])},queryEditorActivity:async function(){if(""!==this.editorBucketId){const t=[Object(s["get_day_period"])(this.date)],e=c["a"].editorActivityQuery(this.editorBucketId,100),i=(await this.$aw.query(t,e).catch(this.errorHandler))[0];this.editor_duration=i["duration"],this.top_editor_files=i["files"],this.top_editor_languages=i["languages"],this.top_editor_projects=i["projects"]}}}},u=n,l=i("2877"),_=Object(l["a"])(u,o,r,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0c7f23.49adb728.js.map