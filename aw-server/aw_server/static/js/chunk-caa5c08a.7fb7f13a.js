(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-caa5c08a"],{5165:function(t,e,n){},"60a1a":function(t,e,n){"use strict";var a=n("b28b"),i=n.n(a);i.a},"641e":function(t,e,n){"use strict";var a=n("0874");a["default"].register({edit:{width:576,height:512,paths:[{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z"}]}})},"8fc4":function(t,e,n){"use strict";var a=n("5165"),i=n.n(a);i.a},a56d:function(t,e,n){"use strict";var a=n("0874");a["default"].register({trash:{width:448,height:512,paths:[{d:"M432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h120l9.4-18.7c3.6-7.3 13.1-13.3 21.3-13.3h0.1 114.3 0c8.2 0 17.8 6 21.5 13.3l9.4 18.7h120zM53.2 467l-21.2-339h384l-21.2 339c-1.6 24.8-23 45-47.9 45h-245.8c-24.9 0-46.3-20.2-47.9-45z"}]}})},b28b:function(t,e,n){},eb8a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Stopwatch")]),n("p",[t._v("Using bucket: "+t._s(t.bucket_id))]),n("b-alert",{attrs:{show:""}},[t._v("This is an early experiment, an important missing feature is the ability to set start/end times manually.")]),n("b-input-group",{attrs:{size:"lg"}},[n("b-input",{attrs:{placeholder:"What are you working on?"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.startTimer(t.label)}}},[n("icon",{attrs:{name:"play"}}),t._v("Start")],1)],1)],1),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("h3",[t._v("Running")]),t.runningTimers.length>0?n("div",t._l(t.runningTimers,(function(e){return n("div",[n("stopwatch-entry",{attrs:{event:e,bucket_id:t.bucket_id,now:t.now},on:{delete:function(n){return t.deleteTimer(e)}}}),n("hr",{staticStyle:{margin:"0"}})],1)})),0):n("div",[n("span",{staticStyle:{color:"#555"}},[t._v("No stopwatch running")])])]),n("div",{staticClass:"col-md-6"},[n("h3",[t._v("Stopped")]),t._l(t.stoppedTimers,(function(e){return n("div",[n("stopwatch-entry",{attrs:{event:e,bucket_id:t.bucket_id,now:t.now},on:{delete:function(n){return t.deleteTimer(e)},new:function(n){return t.startTimer(e.data.label)}}}),n("hr",{staticStyle:{margin:"0"}})],1)}))],2)])],1)},i=[],s=n("9380"),r=n.n(s),c=n("c1df"),d=n.n(c),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row p-3",attrs:{id:"root"}},[n("div",{staticClass:"flex-fill"},[n("div",[n("b",[t._v(t._s(t.event.data.label||"No label"))])]),n("div",[t._v("Started "),n("span",{attrs:{title:t.event.timestamp}},[t._v(t._s(t._f("friendlytime")(t.event.timestamp)))]),t._v(" ("+t._s(t._f("friendlyduration")(t.event.data.running?(t.now-t.event.timestamp)/1e3:t.event.duration))+")")])]),n("div",[t.event.data.running?n("b-button",{staticClass:"mx-1",attrs:{variant:"outline-primary",size:"sm"},on:{click:t.stop}},[n("icon",{staticClass:"ml-0 mr-1",attrs:{name:"stop"}}),t._v("Stop")],1):t._e(),t.event.data.running?t._e():n("b-button",{staticClass:"mx-1",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.$emit("new")}}},[n("icon",{staticClass:"ml-0 mr-1",attrs:{name:"play"}}),t._v("Start new")],1),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"edit-modal-"+t.event.id,expression:"'edit-modal-' + event.id"}],staticClass:"mx-1",attrs:{variant:"outline-dark",size:"sm"}},[n("icon",{staticClass:"ml-0 mr-1",attrs:{name:"edit"}}),t._v("Edit")],1),n("b-button",{staticClass:"mx-1",attrs:{variant:"outline-danger",size:"sm"},on:{click:t.delete_}},[n("icon",{staticClass:"mx-0",attrs:{name:"trash"}})],1)],1)]),n("b-modal",{ref:"editEventRef",attrs:{id:"edit-modal-"+t.event.id,title:"Edit event",centered:"","hide-footer":""}},[n("event-editor",{attrs:{event:t.event,bucket_id:t.bucket_id},on:{save:function(e){return t.$refs.editEventRef.hide()},cancel:function(e){return t.$refs.editEventRef.hide()}}})],1)],1)},o=[],u=(n("641e"),n("0874"));u["default"].register({stop:{width:448,height:512,paths:[{d:"M400 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352z"}]}}),u["default"].register({play:{width:448,height:512,paths:[{d:"M424.4 214.7c31.5 18.5 31.4 64.1 0 82.6l-352 208c-31.7 18.8-72.4-3.8-72.4-41.3v-416.1c0-41.8 43.8-58.2 72.4-41.3z"}]}});n("a56d");var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticStyle:{width:"100%"}},[n("tr",[n("th",[t._v("Bucket")]),n("td",[t._v(t._s(t.bucket_id))])]),n("tr",[n("th",[t._v("ID")]),n("td",[t._v(t._s(t.event.id))])]),n("tr",[n("th",[t._v("Start")]),n("td",[t._v(t._s(t._f("iso8601")(t.event.timestamp)))])]),n("tr",[n("th",[t._v("End")]),n("td",[t._v(t._s(t._f("iso8601")(1*t.event.timestamp+1e3*t.event.duration)))])]),n("tr",[n("th",[t._v("Duration")]),n("td",[t._v(t._s(t._f("friendlyduration")(t.event.duration)))])])]),n("hr"),n("table",{staticStyle:{width:"100%"}},[t._m(0),t._l(t.event.data,(function(e,a){return n("tr",[n("td",[n("b-input",{attrs:{disabled:"",value:a,size:"sm"}})],1),n("td",[typeof t.event.data[a]===typeof!0?n("b-checkbox",{staticStyle:{margin:"0.25em"},model:{value:t.editedEvent.data[a],callback:function(e){t.$set(t.editedEvent.data,a,e)},expression:"editedEvent.data[k]"}}):t._e(),"string"===typeof t.event.data[a]?n("b-input",{attrs:{size:"sm"},model:{value:t.editedEvent.data[a],callback:function(e){t.$set(t.editedEvent.data,a,e)},expression:"editedEvent.data[k]"}}):t._e()],1)])}))],2),n("hr"),n("div",{staticClass:"float-right"},[n("b-button",{staticClass:"mx-1",on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")]),n("b-button",{staticClass:"mx-1",attrs:{variant:"primary"},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Key")]),n("th",[t._v("Value")])])}],m={name:"EventEditor",props:{event:Object,bucket_id:String},data(){return{editedEvent:JSON.parse(JSON.stringify(this.event))}},methods:{async save(){this.event.data=this.editedEvent.data,await this.$aw.replaceEvent(this.bucket_id,this.event),this.$emit("save")}}},p=m,_=n("2877"),b=Object(_["a"])(p,v,h,!1,null,null,null),f=b.exports,w={name:"StopwatchEntry",components:{"event-editor":f},props:{event:Object,bucket_id:String,now:{type:d.a,default:d()()}},methods:{stop:async function(){this.event.data.running=!1,this.event.duration=(d()()-d()(this.event.timestamp))/1e3,await this.$aw.replaceEvent(this.bucket_id,this.event)},delete_:async function(){await this.$aw.deleteEvent(this.bucket_id,this.event.id),this.$emit("delete")}}},g=w,k=(n("60a1a"),Object(_["a"])(g,l,o,!1,null,"d9ac7266",null)),y=k.exports,E={name:"Stopwatch",components:{"stopwatch-entry":y},data:()=>{return{bucket_id:"aw-stopwatch",events:[],label:"",now:d()()}},computed:{runningTimers(){return r()(this.events,t=>t.data.running)},stoppedTimers(){return r()(this.events,t=>!t.data.running)}},mounted:function(){this.$aw.ensureBucket(this.bucket_id,"general.stopwatch","unknown"),this.getEvents(),setInterval(()=>this.now=d()(),1e3)},methods:{startTimer:async function(t){this.events.unshift(await this.$aw.heartbeat(this.bucket_id,0,{timestamp:new Date,data:{running:!0,label:t}}))},deleteTimer:async function(t){this.events=r()(this.events,e=>e.id!=t.id)},getEvents:async function(){this.events=await this.$aw.getEvents(this.bucket_id,{limit:100})}}},S=E,$=(n("8fc4"),Object(_["a"])(S,a,i,!1,null,"49bacf8a",null));e["default"]=$.exports}}]);
//# sourceMappingURL=chunk-caa5c08a.7fb7f13a.js.map