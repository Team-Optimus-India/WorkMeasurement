{"version":3,"sources":["webpack:///./src/components/CategoryEditTree.vue?7205","webpack:///./src/views/Settings.vue?6bdf","webpack:///./src/components/CategoryEditTree.vue?e2a0","webpack:///./node_modules/vue-awesome/icons/plus-square.js","webpack:///./node_modules/vue-awesome/icons/minus-square.js","webpack:///./node_modules/vue-awesome/icons/caret-right.js","webpack:///./node_modules/vue-awesome/icons/plus.js","webpack:///src/components/CategoryEditTree.vue","webpack:///./src/components/CategoryEditTree.vue?d8e9","webpack:///./src/components/CategoryEditTree.vue","webpack:///src/views/Settings.vue","webpack:///./src/views/Settings.vue?f555","webpack:///./src/views/Settings.vue","webpack:///./node_modules/vue-awesome/icons/edit.js","webpack:///./node_modules/vue-awesome/icons/trash.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","staticClass","_m","domProps","startOfDay","on","$event","setStartOfDay","target","value","restoreDefaultClasses","classes_unsaved_changes","staticStyle","saveClasses","resetClasses","_l","cls","addClass","staticRenderFns","style","marginLeft","depth","_e","_s","name","slice","join","rule","type","regex","showEditModal","addSubclass","child","directives","rawName","expression","ref","resetModal","handleOk","model","editing","callback","$$v","$set","allCategories","allRuleTypes","removeClass","$refs","edit","hide","Icon","register","width","height","paths","d","plus","props","Object","Number","default","data","expanded","id","parent","computed","categories","$store","getters","entries","map","c","methods","commit","event","show","preventDefault","handleSubmit","checkFormValidity","new_class","concat","$nextTick","subname","_","cloneDeep","component","components","CategoryEditTree","localStorage","dispatch","time_minutes","async","trash"],"mappings":"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","file":"js/chunk-8136d428.3b465179.js","sourcesContent":["import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEditTree.vue?vue&type=style&index=0&id=37d1d76a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEditTree.vue?vue&type=style&index=0&id=37d1d76a&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"Settings\")]),_c('b-alert',{attrs:{\"variant\":\"warning\",\"show\":\"\"}},[_c('b',[_vm._v(\"Note:\")]),_vm._v(\" These settings are only saved in your browser and will not remain if you switch browser. We are working on getting this fixed.\")]),_c('hr'),_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-sm-3\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"time\"},domProps:{\"value\":_vm.startOfDay},on:{\"change\":function($event){return _vm.setStartOfDay($event.target.value)}}})])]),_c('hr'),_vm._m(1),_c('div',{staticClass:\"float-right\"},[_c('b-btn',{staticClass:\"ml-1\",attrs:{\"variant\":\"outline-warning\",\"size\":\"sm\"},on:{\"click\":_vm.restoreDefaultClasses}},[_vm._v(\"Restore defaults\")])],1),_c('div',[_vm._v(\"Rules for categorizing events. An event can only have one category. If several categories match, the deepest one will be chosen.\")]),_c('div',{staticClass:\"my-4\"},[_c('b-alert',{attrs:{\"variant\":\"warning\",\"show\":_vm.classes_unsaved_changes}},[_vm._v(\"You have unsaved changes!\"),_c('div',{staticClass:\"float-right\",staticStyle:{\"margin-top\":\"-0.15em\",\"margin-right\":\"-0.6em\"}},[_c('b-btn',{staticClass:\"ml-2\",attrs:{\"variant\":\"success\",\"size\":\"sm\"},on:{\"click\":_vm.saveClasses}},[_vm._v(\"Save\")]),_c('b-btn',{staticClass:\"ml-2\",attrs:{\"variant\":\"warning\",\"size\":\"sm\"},on:{\"click\":_vm.resetClasses}},[_vm._v(\"Discard\")])],1)]),_vm._l((_vm.classes_hierarchy),function(cls){return _c('div',[_c('CategoryEditTree',{attrs:{\"cls\":cls}})],1)})],2),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('b-btn',{on:{\"click\":_vm.addClass}},[_c('icon',{staticClass:\"mr-2\",attrs:{\"name\":\"plus\"}}),_vm._v(\"Add category\")],1),_c('b-btn',{staticClass:\"float-right\",attrs:{\"variant\":\"success\",\"disabled\":!_vm.classes_unsaved_changes},on:{\"click\":_vm.saveClasses}},[_vm._v(\"Save\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-9\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"Start of day\")]),_c('small',[_vm._v(\"The time at which days \\\"start\\\", since humans don't always go to bed before midnight. Set to 04:00 by default.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"d-inline-block\"},[_c('div',[_vm._v(\"Categorization\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row py-2 cls\"},[_c('div',{staticClass:\"col-8 col-md-4\"},[_c('span',{style:({ marginLeft: (2 * _vm.depth) + 'em'})}),(_vm.depth > 0)?_c('span',[_vm._v(\"⮡\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.cls.name.slice(_vm.depth).join(\" ➤ \")))]),_c('div',{staticClass:\"col-4 col-md-8\"},[_c('span',{staticClass:\"d-none d-md-inline\"},[(_vm.cls.rule.type === 'regex')?_c('span',[_vm._v(\"Rule (\"+_vm._s(_vm.cls.rule.type)+\"): \"),_c('code',[_vm._v(_vm._s(_vm.cls.rule.regex))])]):_c('span',{staticStyle:{\"color\":\"#888\"}},[_vm._v(\"No rule\")])]),_c('span',{staticClass:\"float-right\"},[_c('b-btn',{staticClass:\"ml-1\",staticStyle:{\"border\":\"0\"},attrs:{\"size\":\"sm\",\"variant\":\"outline-secondary\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.showEditModal($event)}}},[_c('icon',{attrs:{\"name\":\"edit\"}})],1),_c('b-btn',{staticClass:\"ml-1\",staticStyle:{\"border\":\"0\"},attrs:{\"size\":\"sm\",\"variant\":\"outline-success\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.addSubclass(_vm.cls)}}},[_c('icon',{attrs:{\"name\":\"plus\"}})],1)],1)])]),_c('div',_vm._l((_vm.cls.children),function(child){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"pa-2\",staticStyle:{\"background\":\"rgba(0, 0, 0, 0)\"}},[_c('CategoryEditTree',{attrs:{\"cls\":child,\"depth\":_vm.depth+1}})],1)}),0),_c('b-modal',{ref:\"edit\",attrs:{\"id\":\"edit\",\"title\":\"Edit category\"},on:{\"show\":_vm.resetModal,\"hidden\":_vm.resetModal,\"ok\":_vm.handleOk}},[_c('div',{staticClass:\"my-1\"},[_c('b-input-group',{staticClass:\"my-1\",attrs:{\"prepend\":\"Name\"}},[_c('b-form-input',{model:{value:(_vm.editing.name),callback:function ($$v) {_vm.$set(_vm.editing, \"name\", $$v)},expression:\"editing.name\"}})],1),_c('b-input-group',{attrs:{\"prepend\":\"Parent\"}},[_c('b-select',{attrs:{\"options\":_vm.allCategories},model:{value:(_vm.editing.parent),callback:function ($$v) {_vm.$set(_vm.editing, \"parent\", $$v)},expression:\"editing.parent\"}})],1)],1),_c('hr'),_c('div',{staticClass:\"my-1\"},[_c('b',[_vm._v(\"Rule\")]),_c('b-input-group',{staticClass:\"my-1\",attrs:{\"prepend\":\"Type\"}},[_c('b-select',{attrs:{\"options\":_vm.allRuleTypes},model:{value:(_vm.editing.rule.type),callback:function ($$v) {_vm.$set(_vm.editing.rule, \"type\", $$v)},expression:\"editing.rule.type\"}})],1),(_vm.editing.rule.type === 'regex')?_c('div',[_c('b-input-group',{staticClass:\"my-1\",attrs:{\"prepend\":\"Pattern\"}},[_c('b-form-input',{model:{value:(_vm.editing.rule.regex),callback:function ($$v) {_vm.$set(_vm.editing.rule, \"regex\", $$v)},expression:\"editing.rule.regex\"}})],1),_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.editing.rule.ignore_case),callback:function ($$v) {_vm.$set(_vm.editing.rule, \"ignore_case\", $$v)},expression:\"editing.rule.ignore_case\"}},[_vm._v(\"Ignore case\")])],1):_vm._e()],1),_c('hr'),_c('div',{staticClass:\"my-1\"},[_c('b-btn',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){_vm.removeClass(_vm.cls); _vm.$refs.edit.hide()}}},[_c('icon',{attrs:{\"name\":\"trash\"}}),_vm._v(\"Remove category\")],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Icon from '../components/Icon.vue'\n\nIcon.register({\n  'plus-square': {\n    width: 448,\n    height: 512,\n    paths: [\n      {\n        d: 'M400 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352zM368 284v-56c0-6.6-5.4-12-12-12h-92v-92c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12v92h-92c-6.6 0-12 5.4-12 12v56c0 6.6 5.4 12 12 12h92v92c0 6.6 5.4 12 12 12h56c6.6 0 12-5.4 12-12v-92h92c6.6 0 12-5.4 12-12z'\n      }\n    ]\n  }\n})\n","import Icon from '../components/Icon.vue'\n\nIcon.register({\n  'minus-square': {\n    width: 448,\n    height: 512,\n    paths: [\n      {\n        d: 'M400 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352zM92 296h264c6.6 0 12-5.4 12-12v-56c0-6.6-5.4-12-12-12h-264c-6.6 0-12 5.4-12 12v56c0 6.6 5.4 12 12 12z'\n      }\n    ]\n  }\n})\n","import Icon from '../components/Icon.vue'\n\nIcon.register({\n  'caret-right': {\n    width: 192,\n    height: 512,\n    paths: [\n      {\n        d: 'M0 384.7v-257.3c0-17.8 21.5-26.7 34.1-14.1l128.7 128.7c7.8 7.8 7.8 20.5 0 28.3l-128.7 128.7c-12.6 12.6-34.1 3.7-34.1-14.1z'\n      }\n    ]\n  }\n})\n","import Icon from '../components/Icon.vue'\n\nIcon.register({\n  plus: {\n    width: 448,\n    height: 512,\n    paths: [\n      {\n        d: 'M416 208c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32h-144v144c0 17.7-14.3 32-32 32h-32c-17.7 0-32-14.3-32-32v-144h-144c-17.7 0-32-14.3-32-32v-32c0-17.7 14.3-32 32-32h144v-144c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32v144h144z'\n      }\n    ]\n  }\n})\n","<template lang=\"pug\">\ndiv\n  div.row.py-2.cls\n    div.col-8.col-md-4\n      span(:style=\"{ marginLeft: (2 * depth) + 'em'}\")\n        //| {{ cls.name.join(\" ➤ \")}}\n      | #[span(v-if=\"depth > 0\") ⮡] {{ cls.name.slice(depth).join(\" ➤ \")}}\n    div.col-4.col-md-8\n      //span.d-none.d-sm-inline.d-md-none(:style=\"{ marginLeft: (2 * depth) + 'em'}\")\n      span.d-none.d-md-inline\n        span(v-if=\"cls.rule.type === 'regex'\") Rule ({{cls.rule.type}}): #[code {{cls.rule.regex}}]\n        span(v-else, style=\"color: #888\") No rule\n      span.float-right\n        b-btn.ml-1(size=\"sm\", variant=\"outline-secondary\", @click=\"showEditModal($event)\" style=\"border: 0;\" pill)\n          icon(name=\"edit\")\n        b-btn.ml-1(size=\"sm\", variant=\"outline-success\", @click=\"addSubclass(cls)\" style=\"border: 0;\" pill)\n          icon(name=\"plus\")\n  div\n    div.pa-2(v-for=\"child in cls.children\", style=\"background: rgba(0, 0, 0, 0);\", v-show=\"expanded\")\n      CategoryEditTree(:cls=\"child\", :depth=\"depth+1\")\n\n  b-modal(id=\"edit\" ref=\"edit\" title=\"Edit category\" @show=\"resetModal\" @hidden=\"resetModal\" @ok=\"handleOk\")\n    div.my-1\n      b-input-group.my-1(prepend=\"Name\")\n        b-form-input(v-model=\"editing.name\")\n      b-input-group(prepend=\"Parent\")\n        b-select(v-model=\"editing.parent\", :options=\"allCategories\")\n\n    hr\n\n    div.my-1\n      b Rule\n      b-input-group.my-1(prepend=\"Type\")\n        b-select(v-model=\"editing.rule.type\", :options=\"allRuleTypes\")\n      div(v-if=\"editing.rule.type === 'regex'\")\n        b-input-group.my-1(prepend=\"Pattern\")\n          b-form-input(v-model=\"editing.rule.regex\")\n        b-form-checkbox(v-model=\"editing.rule.ignore_case\" switch)\n          | Ignore case\n\n    hr\n\n    div.my-1\n      b-btn(variant=\"danger\", @click=\"removeClass(cls); $refs.edit.hide()\")\n        icon(name=\"trash\")\n        | Remove category\n</template>\n\n<script>\nimport 'vue-awesome/icons/plus-square';\nimport 'vue-awesome/icons/minus-square';\nimport 'vue-awesome/icons/caret-right';\nimport 'vue-awesome/icons/trash';\nimport 'vue-awesome/icons/plus';\nimport 'vue-awesome/icons/edit';\n\nexport default {\n  name: \"CategoryEditTree\",\n  props: {\n    cls: Object,\n    depth: {\n      type: Number,\n      default: 0,\n    }\n  },\n  data: () => {\n    return {\n      expanded: true,\n      editing: {\n        id: 0, // FIXME: Use ID assigned to category in vuex store, in order for saves to be uniquely targeted\n        name: null,\n        rule: {},\n        parent: [],\n      },\n    };\n  },\n  computed: {\n    allCategories: function() {\n      const categories = this.$store.getters[\"settings/all_categories\"];\n      const entries = categories.map(c => { return { text: c.join(\"->\"), value: c } });\n      return [{ value: [], text: 'None'}].concat(entries);\n    },\n    allRuleTypes: function() {\n      return [\n        { value: null, text: 'None' },\n        { value: 'regex', text: 'Regular Expression' },\n        //{ value: 'glob', text: 'Glob pattern' },\n      ]\n    },\n  },\n  methods: {\n    addSubclass: function(parent) {\n      this.$store.commit('settings/addClass', {name: parent.name.concat([\"New class\"]), rule: {type: \"regex\", regex: \"FILL ME\"}});\n    },\n    removeClass: function(cls) {\n      // TODO: Show a confirmation dialog\n      // TODO: Remove children as well?\n      // TODO: Move button to edit modal?\n      this.$store.commit('settings/removeClass', cls);\n    },\n    showEditModal(event) {\n      this.$refs.edit.show()\n    },\n    checkFormValidity() {\n      // FIXME\n      return true;\n    },\n    handleOk(event) {\n      // Prevent modal from closing\n      event.preventDefault()\n      // Trigger submit handler\n      this.handleSubmit()\n    },\n    handleSubmit() {\n      // Exit when the form isn't valid\n      if (!this.checkFormValidity()) {\n        return\n      }\n\n      // Save the category\n      const new_class = {\n        id: this.editing.id,\n        name: this.editing.parent.concat(this.editing.name),\n        rule: this.editing.rule.type !== null ? this.editing.rule : { type: null },\n      };\n      this.$store.commit(\"settings/updateClass\", new_class);\n\n      // Hide the modal manually\n      this.$nextTick(() => {\n        this.$refs.edit.hide()\n      })\n    },\n    resetModal() {\n      this.editing = {\n        id: this.cls.id,\n        name: this.cls.subname,\n        rule: _.cloneDeep(this.cls.rule),\n        parent: this.cls.parent ? this.cls.parent : [],\n      };\n      //console.log(this.editing);\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.row.cls:hover {\n  background-color: #EEE;\n  boder-radius: 5px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEditTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEditTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryEditTree.vue?vue&type=template&id=37d1d76a&scoped=true&lang=pug&\"\nimport script from \"./CategoryEditTree.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryEditTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryEditTree.vue?vue&type=style&index=0&id=37d1d76a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37d1d76a\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\ndiv\n  h3 Settings\n\n  b-alert(variant=\"warning\", show) #[b Note:] These settings are only saved in your browser and will not remain if you switch browser. We are working on getting this fixed.\n\n  hr\n\n  div.row\n    div.col-sm-9\n      h5.mb-0 Start of day\n      small\n        | The time at which days \"start\", since humans don't always go to bed before midnight. Set to 04:00 by default.\n    div.col-sm-3\n      input.form-control(type=\"time\" :value=\"startOfDay\" @change=\"setStartOfDay($event.target.value)\")\n\n  hr\n\n  h5.d-inline-block\n    div Categorization\n  div.float-right\n    b-btn.ml-1(@click=\"restoreDefaultClasses\", variant=\"outline-warning\" size=\"sm\")\n      | Restore defaults\n  div\n    | Rules for categorizing events. An event can only have one category. If several categories match, the deepest one will be chosen.\n\n  div.my-4\n    b-alert(variant=\"warning\" :show=\"classes_unsaved_changes\")\n      | You have unsaved changes!\n      div.float-right(style=\"margin-top: -0.15em; margin-right: -0.6em\")\n        b-btn.ml-2(@click=\"saveClasses\", variant=\"success\" size=\"sm\")\n          | Save\n        b-btn.ml-2(@click=\"resetClasses\", variant=\"warning\" size=\"sm\")\n          | Discard\n    div(v-for=\"cls in classes_hierarchy\")\n      CategoryEditTree(:cls=\"cls\")\n\n  div.row\n    div.col-sm-12\n      b-btn(@click=\"addClass\")\n        icon.mr-2(name=\"plus\")\n        | Add category\n      b-btn.float-right(@click=\"saveClasses\", variant=\"success\" :disabled=\"!classes_unsaved_changes\")\n        | Save\n</template>\n\n<script>\nimport CategoryEditTree from '~/components/CategoryEditTree.vue';\nimport { mapState, mapGetters } from 'vuex';\n\nexport default {\n  name: \"Settings\",\n  components: {\n    CategoryEditTree,\n  },\n  data: () => {\n    return {\n      startOfDay: '',\n    }\n  },\n  computed: {\n    ...mapGetters('settings', ['classes_hierarchy']),\n    ...mapState('settings', ['classes_unsaved_changes'])\n  },\n  mounted() {\n    this.startOfDay = localStorage.startOfDay;\n    this.$store.dispatch('settings/load');\n  },\n  methods: {\n    setStartOfDay: function(time_minutes) {\n      localStorage.startOfDay = time_minutes;\n    },\n    addClass: function() {\n      this.$store.commit('settings/addClass', {name: [\"New class\"], rule: {type: \"regex\", regex: \"FILL ME\"}});\n    },\n    saveClasses: async function() {\n      await this.$store.dispatch('settings/save');\n    },\n    resetClasses: async function() {\n      await this.$store.dispatch('settings/load');\n    },\n    restoreDefaultClasses: async function() {\n      await this.$store.commit('settings/restoreDefaultClasses');\n    },\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=8d5b99f4&lang=pug&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Icon from '../components/Icon.vue'\n\nIcon.register({\n  edit: {\n    width: 576,\n    height: 512,\n    paths: [\n      {\n        d: 'M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z'\n      }\n    ]\n  }\n})\n","import Icon from '../components/Icon.vue'\n\nIcon.register({\n  trash: {\n    width: 448,\n    height: 512,\n    paths: [\n      {\n        d: 'M432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h120l9.4-18.7c3.6-7.3 13.1-13.3 21.3-13.3h0.1 114.3 0c8.2 0 17.8 6 21.5 13.3l9.4 18.7h120zM53.2 467l-21.2-339h384l-21.2 339c-1.6 24.8-23 45-47.9 45h-245.8c-24.9 0-46.3-20.2-47.9-45z'\n      }\n    ]\n  }\n})\n"],"sourceRoot":""}